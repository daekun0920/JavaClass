<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	#tbl1 {
		border:1px solid gray;
		border-collapse:collapse;
		width:700px;
	}
	
	
	#tbl1 th, #tbl1 td {
		border:1px solid gray;
		padding:4px;
	}
</style>
<script>
	
	var cball, cb;
	
	window.onload = function() {
		
		cball = document.all.cball; // 단일 객체
		cb = document.all.cb; // 배열
		
		txt = document.all.txt;//배열
		cb2 = document.all.cb2; // 배열
		
		// console.log(cb.length); // 20개의 체크박스
		cball.onchange = function() {
			
			if (cball.checked) {
				// 전부 체크
				for (var i = 0; i < cb.length; i++) {
					cb[i].checked = true;
				}
			} else {
				// 전부 해제
				for (var i = 0; i < cb.length; i++) {
					cb[i].checked = false;
				}
			}
			
			
		};
		
		// 10개의 체크박스에 onchange 추가
		for (var i = 0;i < cb2.length; i++) {
			cb2[i].onchange = function() {
				// alert("확인");
				// alert(cb2[i].checked); // cb[i] == null : for 문을 빠져나가면 변수가 죽는다
				// alert(event.srcElement.checked);
				if (event.srcElement.checked) {
					// 텍스트 박스 활성
					// console.log(event.srcElement.previousSibling.previousSibling.nodeType); /* PCDATE(공백 문자열) : 3 */
					event.srcElement.previousSibling.previousSibling.readOnly = false; /* previousSibling : 형 */
					event.srcElement.previousSibling.previousSibling.focus();
				} else {
					// 비활성
					event.srcElement.previousSibling.previousSibling.readOnly = true;;
				}
			};
		}
		
		for (var i = 0;i < txt.length;i++) {
			txt[i].ondblclick = function() {
				// txt[i] : X
				// event.srcElement : O
				event.srcElement.readOnly = false;
				// event.srcElement.focus();
				event.srcElement.nextSibling.nextSibling.checked = true; /* nextSibling : 동생 */
			};
			txt[i].onchange = function() { /* 포커스를 잃어버려야 동작한다.(타이핑 도중에는 발동되지 않음) */
				event.srcElement.readOnly = true;
				event.srcElement.nextSibling.nextSibling.checked = false; /* nextSibling : 동생 */
			};
		}
	}; // window.onload
	
</script>
</head>
<body>
	<!--ex28_checkbox.htm-->
	<h1>주소록</h1>
	
	<!-- table#tbl1>tr>th*5 -->
	<table id="tbl1">
		<tr>
			<th><input type = "checkbox" name = "cball"></th>
			<th>번호</th>
			<th>이름</th>
			<th>주소</th>
			<th>나이</th>
		</tr>
		<!-- (tr>td+td{$$$}+td{홍길동}+(td>lorem4)+td{$$})*20 -->
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>001</td>
			<td>홍길동</td>
			<td>Lorem ipsum dolor sit.</td>
			<td>01</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>002</td>
			<td>홍길동</td>
			<td>Distinctio sunt reprehenderit vel?</td>
			<td>02</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>003</td>
			<td>홍길동</td>
			<td>Explicabo pariatur ex minima.</td>
			<td>03</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>004</td>
			<td>홍길동</td>
			<td>Magnam aperiam porro unde?</td>
			<td>04</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>005</td>
			<td>홍길동</td>
			<td>Totam fuga molestiae beatae!</td>
			<td>05</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>006</td>
			<td>홍길동</td>
			<td>Reprehenderit laudantium incidunt explicabo.</td>
			<td>06</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>007</td>
			<td>홍길동</td>
			<td>Magnam consectetur sunt accusantium!</td>
			<td>07</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>008</td>
			<td>홍길동</td>
			<td>Fugiat repudiandae nihil minima?</td>
			<td>08</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>009</td>
			<td>홍길동</td>
			<td>Commodi eum vel ut!</td>
			<td>09</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>010</td>
			<td>홍길동</td>
			<td>Illum labore rem beatae.</td>
			<td>10</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>011</td>
			<td>홍길동</td>
			<td>Illum est optio adipisci!</td>
			<td>11</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>012</td>
			<td>홍길동</td>
			<td>Rerum obcaecati eius inventore.</td>
			<td>12</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>013</td>
			<td>홍길동</td>
			<td>Incidunt nam obcaecati soluta!</td>
			<td>13</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>014</td>
			<td>홍길동</td>
			<td>Pariatur voluptate minima ullam.</td>
			<td>14</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>015</td>
			<td>홍길동</td>
			<td>Ab reprehenderit repellendus debitis.</td>
			<td>15</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>016</td>
			<td>홍길동</td>
			<td>Maiores deserunt laudantium beatae!</td>
			<td>16</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>017</td>
			<td>홍길동</td>
			<td>Magnam soluta doloremque tenetur!</td>
			<td>17</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>018</td>
			<td>홍길동</td>
			<td>Laboriosam tempora ullam deleniti.</td>
			<td>18</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>019</td>
			<td>홍길동</td>
			<td>Ea corporis ullam aliquam.</td>
			<td>19</td>
		</tr>
		<tr>
			<td><input type = "checkbox" name = "cb"></td>
			<td>020</td>
			<td>홍길동</td>
			<td>Quae deserunt neque voluptatibus.</td>
			<td>20</td>
		</tr>
		
		
	</table>
	
	<h1>데이터 입력</h1>
	
	<!-- (div>{데이터 : }+input[name='txt' readonly="readonly"]+{}+input[type='checkbox' name='cb2'])*10 -->
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	<div>데이터 : <input type="text" name="txt" readonly="readonly" /> <input type="checkbox" name="cb2" /></div>
	
	
</body>
</html>