<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	#list img {
		border:10px solid #EEE;
		cursor:pointer;
		opacity:.5;
	}
	
	#list img.one {
		opacity:1;
	}
	
	#list img.two {
		border-color:cornflowerblue;
	}
	
	
	
</style>
<script>

	var pet;
	var cnt1, cnt2;
	
	window.onload = function() {
		// 고양이 & 강아지
		pet = document.getElementsByClassName("item");
		// alert(pet.length);
		cnt1 = document.getElementById("cnt1");
		cnt2 = document.getElementById("cnt2");
		
		
		// 10마리에게 클릭 이벤트 추가
		for (var i = 0; i < pet.length; i++) {
			
			pet[i].onclick = function() {
				
				// event.srcElement
				// event.target
				
				// event.srcElement.className = "one";
				// event.srcElement.className = "two";
				
				//event.srcElement.classList.add("one");
				//event.srcElement.classList.add("two");
				
				// 몇번째 클릭? - 해당 <img>에 class가 몇개가 적용중인지?
				// alert(event.srcElement.classList.length);
				
				var clist = event.srcElement.classList;
				
				if (!event.ctrlKey && !event.shiftKey) {
					// 선택
					if (clist.length == 1) { // 한번도 클릭되지 않은 동물? (이제 한번 클릭됨)
						clist.add("one");
						cnt1.innerText = parseInt(cnt1.innerText) + 1;
					} else if (clist.length == 2) { // 한번 클릭된 동물 (이제 두번 클릭됨)
						clist.add("two");
						cnt2.innerText = parseInt(cnt2.innerText) + 1;
						cnt1.innerText = parseInt(cnt1.innerText) - 1;
					}
				} else if (event.ctrlKey && !event.shiftKey) {
					// 해제
					if (clist.length == 3) {// 꼭 데려오고 ..
						clist.remove("two");
						cnt2.innerText = parseInt(cnt2.innerText) - 1;
						cnt1.innerText = parseInt(cnt1.innerText) + 1;
					} else if (clist.length == 2) {
						clist.remove("one");
						cnt1.innerText = parseInt(cnt1.innerText) - 1;
					}
				} else if (!event.ctrlKey && event.shiftKey) {
					// 0단계 -> 2단계
					if (clist.length == 1) { // 아무 선택도 안되어 있는 상태
						clist.add("one");
						clist.add("two");
						cnt2.innerText = parseInt(cnt2.innerText) + 1;
					} else if (clist.length == 3) { // 꼭데려오고..
						// 2단계 -> 0단계
						clist.remove("one");
						clist.remove("two");
						cnt2.innerText = parseInt(cnt2.innerText) - 1;
					}
				} 
			};
			
		}
		
		
	};

</script>
</head>
<body>
	<!--ex46_style.htm-->
	
	<h2>데려오고 싶은 동물 : <span id = "cnt1">0</span>마리</h2>
	<h2>꼭!!! 데려오고 싶은 동물 : <span id = "cnt2">0</span>마리</h2>
	
	
	<div id = "list">
		<img src = "../images/cat01.jpg" class = "item">
		<img src = "../images/cat02.jpg" class = "item">
		<img src = "../images/cat03.jpg" class = "item">
		<img src = "../images/cat04.jpg" class = "item">
		<img src = "../images/cat05.jpg" class = "item">
		<br>
		<img src = "../images/dog01.jpg" class = "item">
		<img src = "../images/dog02.jpg" class = "item">
		<img src = "../images/dog03.jpg" class = "item">
		<img src = "../images/dog04.jpg" class = "item">
		<img src = "../images/dog05.jpg" class = "item">
	</div>
	
</body>
</html>